<!DOCTYPE html>
<html lang="th" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Tools - ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏û</title>
    <link rel="icon" href="./image/logo.png" type="image/jpeg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/cropperjs@1.5.13/dist/cropper.css"
    />
    <script src="https://unpkg.com/cropperjs@1.5.13/dist/cropper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'Noto Sans Thai', 'sans-serif']
            }
          }
        }
      };
    </script>
    <style>
      * {
        font-family: 'Inter', 'Noto Sans Thai', sans-serif;
      }
      :root {
        --bg-primary: #ffffff;
        --bg-secondary: #f8fafc;
        --bg-tertiary: #f1f5f9;
        --bg-glass: rgba(255, 255, 255, 0.8);
        --text-primary: #0f172a;
        --text-secondary: #64748b;
        --text-muted: #94a3b8;
        --border-color: #e2e8f0;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-dark: #4f46e5;
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
      }
      .dark {
        --bg-primary: #0f172a;
        --bg-secondary: #1e293b;
        --bg-tertiary: #334155;
        --bg-glass: rgba(15, 23, 42, 0.8);
        --text-primary: #f8fafc;
        --text-secondary: #94a3b8;
        --text-muted: #64748b;
        --border-color: #334155;
        --accent: #818cf8;
        --accent-light: #a5b4fc;
        --accent-dark: #6366f1;
      }
      body {
        background: var(--bg-secondary);
        color: var(--text-primary);
        transition: all 0.3s ease;
      }
      .glass {
        background: var(--bg-glass);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
      }
      .gradient-bg {
        background: linear-gradient(
          135deg,
          var(--accent) 0%,
          var(--accent-dark) 100%
        );
      }
      .gradient-text {
        background: linear-gradient(
          135deg,
          var(--accent) 0%,
          var(--accent-light) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      #cropper-container {
        width: 100%;
        flex: 1;
        min-height: 0;
        overflow: hidden;
        background: var(--bg-tertiary);
        border-radius: 12px;
        position: relative;
      }
      #crop-image {
        display: block;
        max-width: 100%;
        max-height: 100%;
      }
      .cropper-container {
        font-size: 0;
        width: 100% !important;
        height: 100% !important;
        max-width: 100% !important;
        max-height: 100% !important;
      }
      .cropper-wrap-box,
      .cropper-canvas,
      .cropper-drag-box,
      .cropper-crop-box {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }
      .cropper-canvas {
        background-color: transparent;
      }
      .cropper-canvas > img {
        display: block;
        width: 100%;
        height: 100%;
        image-orientation: 0deg;
        object-fit: contain;
      }
      .tab-content {
        height: 100%;
      }
      .tab-content:not(#tab-editor) {
        overflow-y: auto;
      }
      #tab-editor {
        display: flex;
        flex-direction: column;
        min-height: 0;
      }
      .grid-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }
      .grid-line {
        position: absolute;
        background: rgba(255, 255, 255, 0.4);
      }
      .grid-line.horizontal {
        width: 100%;
        height: 1px;
      }
      .grid-line.vertical {
        width: 1px;
        height: 100%;
      }
      .comparison-slider {
        position: relative;
        width: 100%;
        height: 400px;
        overflow: hidden;
        border-radius: 16px;
        background: var(--bg-tertiary);
      }
      .comparison-slider img {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
      .comparison-slider .after {
        clip-path: inset(0 50% 0 0);
      }
      .comparison-handle {
        position: absolute;
        top: 0;
        left: 50%;
        width: 3px;
        height: 100%;
        background: var(--accent);
        cursor: ew-resize;
        transform: translateX(-50%);
      }
      .comparison-handle::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 44px;
        height: 44px;
        background: var(--accent);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
      }
      .comparison-handle::after {
        content: '‚Üî';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 18px;
        font-weight: bold;
      }
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 10px 20px;
        border-radius: 12px;
        font-weight: 500;
        font-size: 14px;
        transition: all 0.2s ease;
        cursor: pointer;
        border: none;
        outline: none;
      }
      .btn-primary {
        background: linear-gradient(
          135deg,
          var(--accent) 0%,
          var(--accent-dark) 100%
        );
        color: white;
        box-shadow: 0 4px 14px rgba(99, 102, 241, 0.3);
      }
      .btn-primary:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
      }
      .btn-secondary {
        background: var(--bg-tertiary);
        color: var(--text-primary);
        border: 1px solid var(--border-color);
      }
      .btn-secondary:hover:not(:disabled) {
        background: var(--border-color);
      }
      .btn-ghost {
        background: transparent;
        color: var(--text-secondary);
      }
      .btn-ghost:hover:not(:disabled) {
        background: var(--bg-tertiary);
        color: var(--text-primary);
      }
      .btn-icon {
        width: 44px;
        height: 44px;
        padding: 0;
        border-radius: 12px;
      }
      .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
      }
      .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 6px;
        border-radius: 999px;
        background: var(--bg-tertiary);
        outline: none;
      }
      .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
        transition: all 0.2s;
      }
      .slider::-webkit-slider-thumb:hover {
        transform: scale(1.15);
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
      }
      .slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
        border: none;
      }
      .input-field {
        width: 100%;
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        color: var(--text-primary);
        padding: 12px 16px;
        border-radius: 12px;
        outline: none;
        transition: all 0.2s;
        font-size: 14px;
      }
      .input-field:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
      }
      .input-field::placeholder {
        color: var(--text-muted);
      }
      .card {
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        border-radius: 20px;
        padding: 24px;
        transition: all 0.3s;
      }
      .card-hover:hover {
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
      }
      .tool-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 16px 12px;
        border-radius: 16px;
        background: var(--bg-tertiary);
        border: 2px solid transparent;
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.2s;
        min-width: 80px;
      }
      .tool-btn:hover {
        background: var(--bg-primary);
        border-color: var(--border-color);
        color: var(--text-primary);
      }
      .tool-btn.active {
        background: rgba(99, 102, 241, 0.1);
        border-color: var(--accent);
        color: var(--accent);
      }
      .tool-btn .icon {
        font-size: 24px;
      }
      .tool-btn .label {
        font-size: 12px;
        font-weight: 500;
      }
      .tab-btn {
        padding: 12px 24px;
        border-radius: 12px;
        font-weight: 500;
        font-size: 14px;
        color: var(--text-secondary);
        background: transparent;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
        white-space: nowrap;
      }
      .tab-btn:hover {
        color: var(--text-primary);
        background: var(--bg-tertiary);
      }
      .tab-btn.active {
        background: var(--accent);
        color: white;
      }
      .upload-zone {
        border: 2px dashed var(--border-color);
        border-radius: 20px;
        padding: 48px 24px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        background: var(--bg-tertiary);
      }
      .upload-zone:hover,
      .upload-zone.dragover {
        border-color: var(--accent);
        background: rgba(99, 102, 241, 0.05);
      }
      .upload-zone.dragover {
        transform: scale(1.02);
      }
      .sidebar {
        width: 320px;
        flex-shrink: 0;
      }
      .sidebar-section {
        margin-bottom: 24px;
      }
      .sidebar-title {
        font-size: 13px;
        font-weight: 600;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 12px;
      }
      .scrollbar-thin::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      .scrollbar-thin::-webkit-scrollbar-track {
        background: transparent;
      }
      .scrollbar-thin::-webkit-scrollbar-thumb {
        background: var(--border-color);
        border-radius: 999px;
      }
      .scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background: var(--text-muted);
      }
      .tooltip {
        position: relative;
      }
      .tooltip::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: calc(100% + 8px);
        left: 50%;
        transform: translateX(-50%);
        background: var(--bg-primary);
        color: var(--text-primary);
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        border: 1px solid var(--border-color);
        z-index: 9999;
      }
      .tooltip-bottom::after {
        bottom: auto;
        top: calc(100% + 8px);
      }
      .tooltip-left::after {
        left: auto;
        right: 0;
        transform: translateX(0);
      }
      .tooltip-right::after {
        left: 0;
        transform: translateX(0);
      }
      .tooltip:hover::after {
        opacity: 1;
      }
      .badge {
        display: inline-flex;
        align-items: center;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 500;
      }
      .badge-success {
        background: rgba(16, 185, 129, 0.1);
        color: var(--success);
      }
      .badge-warning {
        background: rgba(245, 158, 11, 0.1);
        color: var(--warning);
      }
      .divider {
        height: 1px;
        background: var(--border-color);
        margin: 16px 0;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
      .fade-in {
        animation: fadeIn 0.3s ease-out;
      }
      .slide-in {
        animation: slideIn 0.3s ease-out;
      }
      .hidden {
        display: none !important;
      }
      .aspect-btn {
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 13px;
        font-weight: 500;
        background: var(--bg-tertiary);
        color: var(--text-secondary);
        border: 1px solid transparent;
        cursor: pointer;
        transition: all 0.2s;
      }
      .aspect-btn:hover {
        background: var(--bg-primary);
        border-color: var(--border-color);
      }
      .aspect-btn.active {
        background: var(--accent);
        color: white;
        border-color: var(--accent);
      }
      .progress-ring {
        transform: rotate(-90deg);
      }
      .progress-ring-circle {
        transition: stroke-dashoffset 0.3s;
        transform-origin: 50% 50%;
      }
      @media (max-width: 1024px) {
        .sidebar {
          width: 280px;
        }
      }
      @media (max-width: 768px) {
        .sidebar {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          width: 100%;
          z-index: 1000;
          background: var(--bg-primary);
          overflow-y: auto;
          animation: slideUp 0.3s ease;
        }
        @keyframes slideUp {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        .sidebar.mobile-open {
          display: block;
        }
        .app-header {
          padding: 12px 16px !important;
        }
        .header-logo {
          width: 36px !important;
          height: 36px !important;
          font-size: 16px !important;
        }
        .header-title {
          font-size: 14px !important;
        }
        .header-subtitle {
          display: none !important;
        }
        .header-actions .desktop-only {
          display: none !important;
        }
        .header-divider {
          display: none !important;
        }
        .main-content {
          padding: 12px !important;
        }
        .tab-nav-container {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
          scrollbar-width: none;
          padding: 0 4px;
        }
        .tab-nav-container::-webkit-scrollbar {
          display: none;
        }
        .tab-nav {
          display: flex;
          gap: 8px;
          min-width: max-content;
          padding: 4px 0;
        }
        .tab-btn {
          padding: 8px 14px;
          font-size: 12px;
          white-space: nowrap;
          flex-shrink: 0;
        }
        .tab-btn svg {
          width: 16px;
          height: 16px;
        }
        #cropper-container {
          flex: 1;
          min-height: 0;
          border-radius: 10px;
        }
        .main-content {
          padding: 8px !important;
        }
        .card {
          padding: 14px;
          border-radius: 14px;
        }
        .upload-zone {
          padding: 24px 16px;
        }
        .upload-zone .text-5xl {
          font-size: 2.5rem;
        }
        .btn {
          padding: 10px 14px;
          font-size: 13px;
          border-radius: 10px;
        }
        .btn-icon {
          width: 38px;
          height: 38px;
        }
        .input-field {
          padding: 10px 12px;
          font-size: 14px;
        }
        h2,
        .text-2xl {
          font-size: 1.125rem !important;
        }
        .comparison-slider {
          height: 260px;
        }
        .grid.md\\:grid-cols-2 {
          grid-template-columns: 1fr !important;
        }
        .tab-content .text-center.mb-8 {
          margin-bottom: 16px !important;
        }
        .tab-content .w-16.h-16 {
          width: 48px !important;
          height: 48px !important;
        }
        .tab-content .w-16.h-16 svg {
          width: 24px !important;
          height: 24px !important;
        }
      }
      @media (max-width: 480px) {
        #cropper-container {
          flex: 1;
          min-height: 0;
        }
        .main-content {
          padding: 6px !important;
        }
        .comparison-slider {
          height: 200px;
        }
        .tab-btn {
          padding: 6px 10px;
          font-size: 11px;
        }
        .btn {
          padding: 8px 10px;
          font-size: 12px;
          gap: 4px;
        }
        .btn svg {
          width: 14px;
          height: 14px;
        }
        .card {
          padding: 10px;
        }
        .upload-zone {
          padding: 20px 12px;
        }
      }
      .mobile-bottom-nav {
        display: none;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--bg-primary);
        border-top: 1px solid var(--border-color);
        padding: 6px 8px;
        padding-bottom: max(env(safe-area-inset-bottom), 6px);
        z-index: 999;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
      }
      @media (max-width: 768px) {
        .mobile-bottom-nav {
          display: flex;
          justify-content: space-around;
          align-items: center;
        }
        body {
          padding-bottom: 70px;
        }
      }
      .mobile-nav-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 2px;
        padding: 6px 16px;
        border-radius: 10px;
        background: transparent;
        border: none;
        color: var(--text-muted);
        cursor: pointer;
        transition: all 0.2s;
        font-size: 9px;
        font-weight: 600;
        letter-spacing: 0.3px;
      }
      .mobile-nav-btn svg {
        width: 22px;
        height: 22px;
        stroke-width: 2.5;
      }
      .mobile-nav-btn.active {
        color: var(--accent);
      }
      .mobile-nav-btn.active svg {
        transform: scale(1.1);
      }
      .mobile-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
        z-index: 999;
        animation: fadeIn 0.2s ease;
      }
      .mobile-overlay.active {
        display: block;
      }
      .mobile-sidebar-header {
        display: none;
        align-items: center;
        justify-content: space-between;
        padding: 14px 16px;
        border-bottom: 1px solid var(--border-color);
        position: sticky;
        top: 0;
        background: var(--bg-primary);
        z-index: 10;
      }
      .mobile-sidebar-header h3 {
        font-size: 16px;
        font-weight: 600;
      }
      @media (max-width: 768px) {
        .mobile-sidebar-header {
          display: flex;
        }
      }
      @media (max-width: 768px) {
        .mobile-hidden {
          display: none !important;
        }
        .mobile-full-width {
          width: 100% !important;
        }
        .mobile-stack {
          flex-direction: column !important;
        }
        .mobile-gap-sm {
          gap: 8px !important;
        }
        #cropper-container {
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .sidebar .p-5 {
          padding: 16px !important;
        }
        .sidebar .sidebar-section {
          margin-bottom: 16px !important;
        }
        .sidebar .sidebar-title {
          font-size: 12px !important;
          margin-bottom: 10px !important;
        }
        .slider {
          height: 8px;
        }
        .slider::-webkit-slider-thumb {
          width: 24px;
          height: 24px;
        }
        #crop-info {
          flex-wrap: wrap;
          gap: 12px !important;
          margin-top: 12px !important;
        }
        .sidebar-section:has(.sidebar-title:contains('‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏î')) {
          display: none;
        }
      }
      .mobile-nav-btn#mobile-upload-btn {
        position: relative;
      }
      .mobile-nav-btn#mobile-upload-btn::after {
        content: '';
        position: absolute;
        top: 4px;
        right: 4px;
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 50%;
        opacity: 0;
        animation: pulse 2s infinite;
      }
      .mobile-nav-btn#mobile-upload-btn.has-hint::after {
        opacity: 1;
      }
      #mobile-upload-placeholder {
        display: none;
      }
      @media (max-width: 768px) {
        #mobile-upload-placeholder {
          display: block;
        }
        #crop-image[src=''] ~ #mobile-upload-placeholder,
        #crop-image:not([src]) ~ #mobile-upload-placeholder {
          display: block;
        }
        .has-image #mobile-upload-placeholder {
          display: none !important;
        }
      }
      @media (min-width: 769px) {
        #mobile-upload-placeholder {
          display: none !important;
        }
      }
    </style>
  </head>
  <body class="min-h-screen">
    <div class="flex flex-col h-screen overflow-hidden">
      <header
        class="app-header flex items-center justify-between px-6 py-4 border-b"
        style="border-color: var(--border-color); background: var(--bg-primary)"
      >
        <div class="flex items-center gap-4">
          <div class="flex items-center gap-3">
            <div
              class="header-logo w-10 h-10 rounded-xl gradient-bg flex items-center justify-center text-white text-xl"
            >
              üé®
            </div>
            <div>
              <h1 class="header-title text-lg font-bold">Image Tools</h1>
              <p
                class="header-subtitle text-xs"
                style="color: var(--text-muted)"
              >
                ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏†‡∏≤‡∏û‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
              </p>
            </div>
          </div>
        </div>
        <div class="header-actions flex items-center gap-3">
          <button
            id="undo-btn"
            class="btn btn-ghost btn-icon tooltip"
            data-tooltip="Undo (Ctrl+Z)"
            disabled
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M3 7v6h6" />
              <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13" />
            </svg>
          </button>
          <button
            id="redo-btn"
            class="btn btn-ghost btn-icon tooltip"
            data-tooltip="Redo (Ctrl+Y)"
            disabled
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 7v6h-6" />
              <path d="M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7" />
            </svg>
          </button>
          <div
            class="header-divider w-px h-6"
            style="background: var(--border-color)"
          ></div>
          <button
            id="reset-btn"
            class="btn btn-ghost tooltip desktop-only"
            data-tooltip="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
            disabled
          >
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
              <path d="M3 3v5h5" />
            </svg>
            <span>‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</span>
          </button>
          <div
            class="header-divider w-px h-6 desktop-only"
            style="background: var(--border-color)"
          ></div>
          <button
            id="dark-mode-toggle"
            class="btn btn-ghost btn-icon tooltip"
            data-tooltip="‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î"
          >
            <span id="dark-mode-icon">üåô</span>
          </button>
        </div>
      </header>
      <div class="flex flex-1 overflow-hidden">
        <aside
          id="left-sidebar"
          class="sidebar sidebar-left border-r overflow-y-auto scrollbar-thin"
          style="
            border-color: var(--border-color);
            background: var(--bg-primary);
          "
        >
          <div class="mobile-sidebar-header">
            <h3 class="font-semibold">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</h3>
            <button id="close-left-sidebar" class="btn btn-ghost btn-icon">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M18 6 6 18" />
                <path d="m6 6 12 12" />
              </svg>
            </button>
          </div>
          <div class="p-5">
            <div id="upload-section" class="sidebar-section">
              <div class="sidebar-title">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û</div>
              <label class="block">
                <input
                  type="file"
                  id="image-input"
                  accept="image/*"
                  class="hidden"
                />
                <div class="upload-zone">
                  <div class="text-5xl mb-4">üì§</div>
                  <div class="font-semibold mb-2">‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
                  <div class="text-sm" style="color: var(--text-muted)">
                    ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå
                  </div>
                  <div class="mt-4 text-xs" style="color: var(--text-muted)">
                    ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö JPG, PNG, WebP, GIF
                  </div>
                </div>
              </label>
              <div class="mt-4">
                <div class="flex gap-2">
                  <input
                    type="text"
                    id="image-url-input"
                    placeholder="‡∏ß‡∏≤‡∏á URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û..."
                    class="input-field flex-1"
                  />
                  <button
                    id="load-url-btn"
                    class="btn btn-secondary btn-icon tooltip"
                    data-tooltip="‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å URL"
                  >
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path
                        d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
                      />
                      <path
                        d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
                      />
                    </svg>
                  </button>
                </div>
              </div>
              <div class="mt-3">
                <input
                  type="file"
                  id="batch-input"
                  accept="image/*"
                  multiple
                  class="hidden"
                />
                <label
                  for="batch-input"
                  class="btn btn-secondary w-full cursor-pointer"
                >
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="3" y="3" width="18" height="18" rx="2" />
                    <circle cx="8.5" cy="8.5" r="1.5" />
                    <path d="m21 15-5-5L5 21" />
                  </svg>
                  <span>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå</span>
                </label>
              </div>
            </div>
            <div id="batch-section" class="sidebar-section hidden">
              <div class="sidebar-title flex items-center justify-between">
                <span>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏û</span>
                <span id="batch-count" class="badge badge-success">0 ‡πÑ‡∏ü‡∏•‡πå</span>
              </div>
              <div
                id="batch-list"
                class="space-y-2 max-h-48 overflow-y-auto scrollbar-thin"
              ></div>
            </div>
            <div id="tools-section" class="hidden">
              <div class="sidebar-section">
                <div class="sidebar-title">‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏≤‡∏û</div>
                <div class="grid grid-cols-4 gap-2">
                  <button class="aspect-ratio-btn aspect-btn" data-ratio="NaN">
                    ‡∏≠‡∏¥‡∏™‡∏£‡∏∞
                  </button>
                  <button class="aspect-ratio-btn aspect-btn" data-ratio="1">
                    1:1
                  </button>
                  <button
                    class="aspect-ratio-btn aspect-btn"
                    data-ratio="1.778"
                  >
                    16:9
                  </button>
                  <button
                    class="aspect-ratio-btn aspect-btn"
                    data-ratio="0.5625"
                  >
                    9:16
                  </button>
                  <button
                    class="aspect-ratio-btn aspect-btn"
                    data-ratio="1.333"
                  >
                    4:3
                  </button>
                  <button class="aspect-ratio-btn aspect-btn" data-ratio="0.75">
                    3:4
                  </button>
                  <button class="aspect-ratio-btn aspect-btn" data-ratio="1.5">
                    3:2
                  </button>
                  <button
                    class="aspect-ratio-btn aspect-btn"
                    data-ratio="0.667"
                  >
                    2:3
                  </button>
                  <button
                    class="aspect-ratio-btn aspect-btn"
                    data-ratio="2.333"
                  >
                    21:9
                  </button>
                  <button class="aspect-ratio-btn aspect-btn" data-ratio="1.25">
                    5:4
                  </button>
                  <button class="aspect-ratio-btn aspect-btn" data-ratio="0.8">
                    4:5
                  </button>
                  <button class="aspect-ratio-btn aspect-btn" data-ratio="1.91">
                    1.91:1
                  </button>
                </div>
              </div>
              <div class="sidebar-section">
                <div class="sidebar-title">‡∏´‡∏°‡∏∏‡∏ô‡∏†‡∏≤‡∏û</div>
                <div class="flex items-center gap-3 mb-3">
                  <button
                    id="rotate-left-btn"
                    class="btn btn-secondary btn-icon tooltip"
                    data-tooltip="‡∏´‡∏°‡∏∏‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ 90¬∞"
                  >
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path
                        d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"
                      />
                      <path d="M3 3v5h5" />
                    </svg>
                  </button>
                  <input
                    type="number"
                    id="rotate-input"
                    value="0"
                    min="-180"
                    max="180"
                    class="input-field text-center flex-1"
                  />
                  <button
                    id="rotate-right-btn"
                    class="btn btn-secondary btn-icon tooltip"
                    data-tooltip="‡∏´‡∏°‡∏∏‡∏ô‡∏Ç‡∏ß‡∏≤ 90¬∞"
                  >
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path
                        d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"
                      />
                      <path d="M21 3v5h-5" />
                    </svg>
                  </button>
                </div>
                <input
                  type="range"
                  id="rotate-slider"
                  min="-180"
                  max="180"
                  value="0"
                  class="slider"
                />
              </div>
              <div class="sidebar-section">
                <div class="sidebar-title flex items-center justify-between">
                  <span>‡∏ã‡∏π‡∏°</span>
                  <span
                    id="zoom-value"
                    class="text-sm font-medium"
                    style="color: var(--accent)"
                    >100%</span
                  >
                </div>
                <input
                  type="range"
                  id="zoom-slider"
                  min="0.1"
                  max="5"
                  step="0.1"
                  value="1"
                  class="slider"
                />
              </div>
              <div class="sidebar-section">
                <div class="sidebar-title">‡∏û‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û</div>
                <div class="grid grid-cols-2 gap-2">
                  <button id="flip-horizontal-btn" class="btn btn-secondary">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path d="M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3" />
                      <path d="M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3" />
                      <path d="M12 20v2" />
                      <path d="M12 14v2" />
                      <path d="M12 8v2" />
                      <path d="M12 2v2" />
                    </svg>
                    <span>‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô</span>
                  </button>
                  <button id="flip-vertical-btn" class="btn btn-secondary">
                    <svg
                      width="18"
                      height="18"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <path d="M3 8V5c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v3" />
                      <path d="M3 16v3c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-3" />
                      <path d="M4 12H2" />
                      <path d="M10 12H8" />
                      <path d="M16 12h-2" />
                      <path d="M22 12h-2" />
                    </svg>
                    <span>‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á</span>
                  </button>
                </div>
              </div>
              <div class="sidebar-section">
                <label
                  class="flex items-center justify-between cursor-pointer p-3 rounded-xl"
                  style="background: var(--bg-tertiary)"
                >
                  <div class="flex items-center gap-3">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <rect x="3" y="3" width="18" height="18" rx="2" />
                      <path d="M3 9h18" />
                      <path d="M3 15h18" />
                      <path d="M9 3v18" />
                      <path d="M15 3v18" />
                    </svg>
                    <span class="font-medium">Grid Overlay</span>
                  </div>
                  <input
                    type="checkbox"
                    id="grid-toggle"
                    class="w-5 h-5 accent-indigo-500"
                  />
                </label>
              </div>
            </div>
          </div>
        </aside>
        <main
          class="flex-1 flex flex-col overflow-hidden"
          style="background: var(--bg-secondary)"
        >
          <div
            class="tab-nav-container flex items-center gap-2 px-4 py-3 border-b overflow-x-auto scrollbar-thin"
            style="
              border-color: var(--border-color);
              background: var(--bg-primary);
            "
            id="tabs-container"
          >
            <div class="tab-nav flex items-center gap-2">
              <button class="tab-btn active" data-tab="editor">
                <span class="flex items-center gap-2">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"
                    />
                    <path d="m12 12 4 10 1.7-4.3L22 16Z" />
                  </svg>
                  ‡∏ï‡∏±‡∏î‡∏†‡∏≤‡∏û
                </span>
              </button>
              <button class="tab-btn" data-tab="filters">
                <span class="flex items-center gap-2">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" />
                    <path d="M2 12h20" />
                  </svg>
                  ‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå
                </span>
              </button>
              <button class="tab-btn" data-tab="watermark">
                <span class="flex items-center gap-2">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"
                    />
                  </svg>
                  ‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥
                </span>
              </button>
              <button class="tab-btn" data-tab="compressor">
                <span class="flex items-center gap-2">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                    <polyline points="17 8 12 3 7 8" />
                    <line x1="12" y1="3" x2="12" y2="15" />
                  </svg>
                  ‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î
                </span>
              </button>
              <button class="tab-btn" data-tab="compare">
                <span class="flex items-center gap-2">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="3" y="3" width="18" height="18" rx="2" />
                    <path d="M12 3v18" />
                  </svg>
                  ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
                </span>
              </button>
            </div>
          </div>
          <div
            class="main-content flex-1 p-4 overflow-auto"
            style="display: flex; flex-direction: column"
          >
            <div
              id="tab-editor"
              class="tab-content flex-1"
              style="display: flex; flex-direction: column"
            >
              <div id="cropper-container" class="relative flex-1">
                <img
                  id="crop-image"
                  src=""
                  alt=""
                  style="max-width: 100%; max-height: 100%"
                />
                <div id="grid-overlay" class="grid-overlay hidden"></div>
                <div id="mobile-upload-placeholder" class="text-center p-6">
                  <div
                    class="w-20 h-20 mx-auto mb-4 rounded-2xl gradient-bg flex items-center justify-center"
                  >
                    <svg
                      width="40"
                      height="40"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="white"
                      stroke-width="2"
                    >
                      <path
                        d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"
                      />
                      <path d="M12 12v9" />
                      <path d="m16 16-4-4-4 4" />
                    </svg>
                  </div>
                  <h3 class="text-lg font-semibold mb-2">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h3>
                  <p class="text-sm mb-4" style="color: var(--text-muted)">
                    ‡πÅ‡∏ï‡∏∞‡∏õ‡∏∏‡πà‡∏° "‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î" ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                  </p>
                  <div class="flex flex-wrap justify-center gap-2">
                    <span
                      class="px-3 py-1 rounded-full text-xs"
                      style="
                        background: var(--bg-tertiary);
                        color: var(--text-secondary);
                      "
                      >JPG</span
                    >
                    <span
                      class="px-3 py-1 rounded-full text-xs"
                      style="
                        background: var(--bg-tertiary);
                        color: var(--text-secondary);
                      "
                      >PNG</span
                    >
                    <span
                      class="px-3 py-1 rounded-full text-xs"
                      style="
                        background: var(--bg-tertiary);
                        color: var(--text-secondary);
                      "
                      >WebP</span
                    >
                    <span
                      class="px-3 py-1 rounded-full text-xs"
                      style="
                        background: var(--bg-tertiary);
                        color: var(--text-secondary);
                      "
                      >GIF</span
                    >
                  </div>
                </div>
              </div>
              <div
                id="crop-info"
                class="mt-2 py-2 flex items-center justify-center gap-6 hidden flex-shrink-0"
              >
                <div
                  class="flex items-center gap-2 text-sm"
                  style="color: var(--text-secondary)"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="3" y="3" width="18" height="18" rx="2" />
                  </svg>
                  <span id="crop-dimensions">0 √ó 0 px</span>
                </div>
                <div
                  class="flex items-center gap-2 text-sm"
                  style="color: var(--text-secondary)"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <circle cx="12" cy="12" r="1" />
                    <path d="M12 2v4" />
                    <path d="M12 18v4" />
                    <path d="m4.93 4.93 2.83 2.83" />
                    <path d="m16.24 16.24 2.83 2.83" />
                    <path d="M2 12h4" />
                    <path d="M18 12h4" />
                    <path d="m4.93 19.07 2.83-2.83" />
                    <path d="m16.24 7.76 2.83-2.83" />
                  </svg>
                  <span id="crop-position">(0, 0)</span>
                </div>
              </div>
            </div>
            <div id="tab-filters" class="tab-content hidden">
              <div class="max-w-4xl mx-auto">
                <div class="text-center mb-8">
                  <div
                    class="inline-flex items-center justify-center w-16 h-16 rounded-2xl gradient-bg mb-4"
                  >
                    <svg
                      width="32"
                      height="32"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="white"
                      stroke-width="2"
                    >
                      <circle cx="12" cy="12" r="10" />
                      <path
                        d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"
                      />
                      <path d="M2 12h20" />
                    </svg>
                  </div>
                  <h2 class="text-2xl font-bold mb-2">‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå</h2>
                  <p class="text-sm" style="color: var(--text-muted)">
                    ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
                  </p>
                </div>
                <div class="grid md:grid-cols-2 gap-6">
                  <div class="card space-y-5">
                    <h3
                      class="font-semibold flex items-center gap-2 pb-3"
                      style="border-bottom: 1px solid var(--border-color)"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <circle cx="12" cy="12" r="5" />
                        <path
                          d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
                        />
                      </svg>
                      ‡πÅ‡∏™‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏µ
                    </h3>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm">‚òÄÔ∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á</label>
                        <span
                          id="brightness-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >100%</span
                        >
                      </div>
                      <input
                        type="range"
                        id="brightness-slider"
                        min="0"
                        max="200"
                        value="100"
                        class="slider"
                      />
                    </div>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm">üîÜ ‡∏Ñ‡∏≠‡∏ô‡∏ó‡∏£‡∏≤‡∏™‡∏ï‡πå</label>
                        <span
                          id="contrast-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >100%</span
                        >
                      </div>
                      <input
                        type="range"
                        id="contrast-slider"
                        min="0"
                        max="200"
                        value="100"
                        class="slider"
                      />
                    </div>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm">üé® ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¥‡πà‡∏°‡∏™‡∏µ</label>
                        <span
                          id="saturation-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >100%</span
                        >
                      </div>
                      <input
                        type="range"
                        id="saturation-slider"
                        min="0"
                        max="200"
                        value="100"
                        class="slider"
                      />
                    </div>
                  </div>
                  <div class="card space-y-5">
                    <h3
                      class="font-semibold flex items-center gap-2 pb-3"
                      style="border-bottom: 1px solid var(--border-color)"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"
                        />
                      </svg>
                      ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå
                    </h3>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm">üåà Hue Rotate</label>
                        <span
                          id="hue-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >0¬∞</span
                        >
                      </div>
                      <input
                        type="range"
                        id="hue-slider"
                        min="0"
                        max="360"
                        value="0"
                        class="slider"
                      />
                    </div>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm">üå´Ô∏è Blur</label>
                        <span
                          id="blur-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >0px</span
                        >
                      </div>
                      <input
                        type="range"
                        id="blur-slider"
                        min="0"
                        max="20"
                        value="0"
                        class="slider"
                      />
                    </div>
                    <div class="pt-2">
                      <label class="font-medium text-sm block mb-3"
                        >üé≠ Presets</label
                      >
                      <div class="grid grid-cols-2 gap-3">
                        <button id="grayscale-btn" class="btn btn-secondary">
                          <span
                            class="w-4 h-4 rounded-full bg-gray-500 inline-block"
                          ></span>
                          Grayscale
                        </button>
                        <button id="sepia-btn" class="btn btn-secondary">
                          <span
                            class="w-4 h-4 rounded-full bg-amber-600 inline-block"
                          ></span>
                          Sepia
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div id="tab-watermark" class="tab-content hidden">
              <div class="max-w-4xl mx-auto">
                <div class="text-center mb-8">
                  <div
                    class="inline-flex items-center justify-center w-16 h-16 rounded-2xl gradient-bg mb-4"
                  >
                    <svg
                      width="32"
                      height="32"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="white"
                      stroke-width="2"
                    >
                      <path
                        d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"
                      />
                    </svg>
                  </div>
                  <h2 class="text-2xl font-bold mb-2">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥</h2>
                  <p class="text-sm" style="color: var(--text-muted)">
                    ‡πÉ‡∏™‡πà‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
                  </p>
                </div>
                <div class="grid md:grid-cols-2 gap-6">
                  <div class="card space-y-5">
                    <h3
                      class="font-semibold flex items-center gap-2 pb-3"
                      style="border-bottom: 1px solid var(--border-color)"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path d="M4 7V4h16v3" />
                        <path d="M9 20h6" />
                        <path d="M12 4v16" />
                      </svg>
                      ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
                    </h3>
                    <div>
                      <label class="block font-medium text-sm mb-2"
                        >üí¨ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥</label
                      >
                      <input
                        type="text"
                        id="watermark-text"
                        placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥..."
                        class="input-field"
                      />
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                      <div>
                        <label class="block font-medium text-sm mb-2"
                          >ÔøΩ ‡∏Ç‡∏ô‡∏≤‡∏î</label
                        >
                        <input
                          type="number"
                          id="watermark-size"
                          value="24"
                          min="12"
                          max="100"
                          class="input-field"
                        />
                      </div>
                      <div>
                        <label class="block font-medium text-sm mb-2"
                          >üé® ‡∏™‡∏µ</label
                        >
                        <input
                          type="color"
                          id="watermark-color"
                          value="#ffffff"
                          class="input-field h-11 cursor-pointer"
                        />
                      </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                      <div>
                        <label class="block font-medium text-sm mb-2"
                          >üî§ ‡∏ü‡∏≠‡∏ô‡∏ï‡πå</label
                        >
                        <select id="watermark-font" class="input-field">
                          <option value="Arial">Arial</option>
                          <option value="Noto Sans Thai">Noto Sans Thai</option>
                          <option value="Roboto">Roboto</option>
                          <option value="Inter">Inter</option>
                          <option value="Montserrat">Montserrat</option>
                        </select>
                      </div>
                      <div>
                        <label class="block font-medium text-sm mb-2"
                          >üî§ ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å</label
                        >
                        <select id="watermark-font-weight" class="input-field">
                          <option value="normal">Normal</option>
                          <option value="bold">Bold</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="card space-y-5">
                    <h3
                      class="font-semibold flex items-center gap-2 pb-3"
                      style="border-bottom: 1px solid var(--border-color)"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path d="M21 3 3 21" />
                        <path d="M21 21 3 3" />
                      </svg>
                      ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏™‡πÑ‡∏ï‡∏•‡πå
                    </h3>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm"
                          >üëÅÔ∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™</label
                        >
                        <span
                          id="watermark-opacity-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >50%</span
                        >
                      </div>
                      <input
                        type="range"
                        id="watermark-opacity"
                        min="0"
                        max="100"
                        value="50"
                        class="slider"
                      />
                    </div>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm">üîÑ ‡∏´‡∏°‡∏∏‡∏ô</label>
                        <span
                          id="watermark-rotate-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >0¬∞</span
                        >
                      </div>
                      <input
                        type="range"
                        id="watermark-rotate"
                        min="-180"
                        max="180"
                        value="0"
                        class="slider"
                      />
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                      <div>
                        <div class="flex items-center justify-between mb-3">
                          <label class="font-medium text-sm">‚ÜîÔ∏è X</label>
                          <span
                            id="watermark-offset-x-value"
                            class="text-sm font-semibold px-2 py-1 rounded-lg"
                            style="
                              background: var(--bg-tertiary);
                              color: var(--accent);
                            "
                            >0px</span
                          >
                        </div>
                        <input
                          type="range"
                          id="watermark-offset-x"
                          min="-200"
                          max="200"
                          value="0"
                          class="slider"
                        />
                      </div>
                      <div>
                        <div class="flex items-center justify-between mb-3">
                          <label class="font-medium text-sm">‚ÜïÔ∏è Y</label>
                          <span
                            id="watermark-offset-y-value"
                            class="text-sm font-semibold px-2 py-1 rounded-lg"
                            style="
                              background: var(--bg-tertiary);
                              color: var(--accent);
                            "
                            >0px</span
                          >
                        </div>
                        <input
                          type="range"
                          id="watermark-offset-y"
                          min="-200"
                          max="200"
                          value="0"
                          class="slider"
                        />
                      </div>
                    </div>
                    <label
                      class="flex items-center gap-3 p-4 rounded-xl cursor-pointer transition-all hover:scale-[1.02]"
                      style="background: var(--bg-tertiary)"
                    >
                      <input
                        type="checkbox"
                        id="watermark-pattern-mode"
                        class="w-5 h-5 accent-indigo-500"
                      />
                      <div>
                        <div class="font-medium">üîÅ ‡πÇ‡∏´‡∏°‡∏î Pattern</div>
                        <div class="text-sm" style="color: var(--text-muted)">
                          ‡∏ß‡∏ô‡∏ã‡πâ‡∏≥‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏π‡∏õ
                        </div>
                      </div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div id="tab-compressor" class="tab-content hidden">
              <div class="max-w-4xl mx-auto">
                <div class="text-center mb-8">
                  <div
                    class="inline-flex items-center justify-center w-16 h-16 rounded-2xl gradient-bg mb-4"
                  >
                    <svg
                      width="32"
                      height="32"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="white"
                      stroke-width="2"
                    >
                      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                      <polyline points="17 8 12 3 7 8" />
                      <line x1="12" y1="3" x2="12" y2="15" />
                    </svg>
                  </div>
                  <h2 class="text-2xl font-bold mb-2">‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h2>
                  <p class="text-sm" style="color: var(--text-muted)">
                    ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏î‡∏¢‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ
                  </p>
                </div>
                <div class="grid md:grid-cols-2 gap-6">
                  <div class="card">
                    <h3
                      class="font-semibold flex items-center gap-2 pb-3 mb-4"
                      style="border-bottom: 1px solid var(--border-color)"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <rect x="3" y="3" width="18" height="18" rx="2" />
                        <circle cx="8.5" cy="8.5" r="1.5" />
                        <path d="m21 15-5-5L5 21" />
                      </svg>
                      ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
                    </h3>
                    <div
                      class="rounded-xl p-6 flex items-center justify-center min-h-[280px]"
                      style="background: var(--bg-tertiary)"
                    >
                      <img
                        id="compressor-preview"
                        class="max-w-full max-h-[260px] object-contain hidden rounded-lg"
                        alt="Preview"
                      />
                      <div id="compressor-placeholder" class="text-center">
                        <div class="font-medium mb-1">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏†‡∏≤‡∏û</div>
                        <div class="text-sm" style="color: var(--text-muted)">
                          ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card space-y-5">
                    <h3
                      class="font-semibold flex items-center gap-2 pb-3"
                      style="border-bottom: 1px solid var(--border-color)"
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"
                        />
                        <circle cx="12" cy="12" r="3" />
                      </svg>
                      ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
                    </h3>
                    <div>
                      <div class="flex items-center justify-between mb-3">
                        <label class="font-medium text-sm">üìä ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</label>
                        <span
                          id="compressor-quality-value"
                          class="text-sm font-semibold px-2 py-1 rounded-lg"
                          style="
                            background: var(--bg-tertiary);
                            color: var(--accent);
                          "
                          >100%</span
                        >
                      </div>
                      <input
                        type="range"
                        id="compressor-quality-slider"
                        min="1"
                        max="100"
                        value="100"
                        class="slider"
                      />
                      <p class="text-xs mt-2" style="color: var(--text-muted)">
                        ‡∏•‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå
                      </p>
                    </div>
                    <div>
                      <label class="block font-medium text-sm mb-2"
                        >üìÅ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå</label
                      >
                      <select id="compressor-format" class="input-field">
                        <option value="jpeg">JPEG - ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å</option>
                        <option value="png">PNG - ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á</option>
                        <option value="webp">WebP - ‡∏™‡∏°‡∏î‡∏∏‡∏•</option>
                      </select>
                    </div>
                    <div
                      id="compressor-info"
                      class="p-4 rounded-xl hidden"
                      style="background: var(--bg-tertiary)"
                    >
                      <div class="space-y-3">
                        <div class="flex justify-between items-center">
                          <span class="text-sm" style="color: var(--text-muted)"
                            >‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</span
                          >
                          <span
                            id="compressor-original-size"
                            class="font-semibold"
                            >-</span
                          >
                        </div>
                        <div class="flex justify-between items-center">
                          <span class="text-sm" style="color: var(--text-muted)"
                            >‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏•‡∏±‡∏á‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î</span
                          >
                          <span
                            id="compressor-compressed-size"
                            class="font-semibold"
                            >-</span
                          >
                        </div>
                        <div class="flex justify-between items-center">
                          <span class="text-sm" style="color: var(--text-muted)"
                            >‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î</span
                          >
                          <span
                            id="compressor-reduction"
                            class="font-semibold px-3 py-1 rounded-full text-sm"
                            style="
                              background: rgba(16, 185, 129, 0.1);
                              color: var(--success);
                            "
                            >-</span
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div id="tab-compare" class="tab-content hidden">
              <div class="max-w-4xl mx-auto">
                <div class="text-center mb-8">
                  <div
                    class="inline-flex items-center justify-center w-16 h-16 rounded-2xl gradient-bg mb-4"
                  >
                    <svg
                      width="32"
                      height="32"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="white"
                      stroke-width="2"
                    >
                      <rect x="3" y="3" width="18" height="18" rx="2" />
                      <path d="M12 3v18" />
                    </svg>
                  </div>
                  <h2 class="text-2xl font-bold mb-2">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏†‡∏≤‡∏û</h2>
                  <p class="text-sm" style="color: var(--text-muted)">
                    ‡∏•‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡πà‡∏≠‡∏ô-‡∏´‡∏•‡∏±‡∏á
                  </p>
                </div>
                <div class="card">
                  <div id="comparison-slider" class="comparison-slider">
                    <img
                      id="compare-before"
                      src=""
                      alt="Before"
                      class="before"
                    />
                    <img id="compare-after" src="" alt="After" class="after" />
                    <div id="comparison-handle" class="comparison-handle"></div>
                  </div>
                  <div class="flex justify-center gap-16 mt-6">
                    <div class="text-center">
                      <div
                        class="w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-2"
                        style="background: var(--bg-tertiary)"
                      >
                        <svg
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <rect x="3" y="3" width="18" height="18" rx="2" />
                          <circle cx="8.5" cy="8.5" r="1.5" />
                          <path d="m21 15-5-5L5 21" />
                        </svg>
                      </div>
                      <div class="font-medium">‡∏Å‡πà‡∏≠‡∏ô</div>
                      <div class="text-xs" style="color: var(--text-muted)">
                        ‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö
                      </div>
                    </div>
                    <div class="text-center">
                      <div
                        class="w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-2"
                        style="background: rgba(99, 102, 241, 0.1)"
                      >
                        <svg
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="var(--accent)"
                          stroke-width="2"
                        >
                          <path
                            d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"
                          />
                        </svg>
                      </div>
                      <div class="font-medium">‡∏´‡∏•‡∏±‡∏á</div>
                      <div class="text-xs" style="color: var(--text-muted)">
                        ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
        <aside
          id="right-sidebar"
          class="sidebar sidebar-right border-l overflow-y-auto scrollbar-thin"
          style="
            border-color: var(--border-color);
            background: var(--bg-primary);
          "
        >
          <div class="mobile-sidebar-header">
            <h3 class="font-semibold">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å</h3>
            <button id="close-right-sidebar" class="btn btn-ghost btn-icon">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M18 6 6 18" />
                <path d="m6 6 12 12" />
              </svg>
            </button>
          </div>
          <div class="p-5">
            <div class="sidebar-section">
              <div class="sidebar-title">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
              <div
                class="rounded-xl p-4 flex items-center justify-center min-h-[180px]"
                style="background: var(--bg-tertiary)"
              >
                <img
                  id="preview-image"
                  class="max-w-full max-h-[160px] object-contain hidden rounded-lg"
                  alt="Preview"
                />
                <div id="preview-placeholder" class="text-center">
                  <div class="text-4xl mb-2">üñºÔ∏è</div>
                  <div class="text-sm" style="color: var(--text-muted)">
                    ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
                  </div>
                </div>
              </div>
            </div>
            <div class="sidebar-section">
              <div class="sidebar-title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å</div>
              <div class="space-y-4">
                <div>
                  <label class="block text-sm font-medium mb-2"
                    >‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå</label
                  >
                  <select id="export-format" class="input-field">
                    <option value="jpeg">JPEG</option>
                    <option value="png">PNG</option>
                    <option value="webp">WebP</option>
                  </select>
                </div>
                <div>
                  <div class="flex items-center justify-between mb-2">
                    <label class="text-sm font-medium">‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</label>
                    <span
                      id="quality-value"
                      class="text-sm font-medium"
                      style="color: var(--accent)"
                      >100%</span
                    >
                  </div>
                  <input
                    type="range"
                    id="quality-slider"
                    min="10"
                    max="100"
                    value="100"
                    class="slider"
                  />
                </div>
              </div>
            </div>
            <div class="sidebar-section">
              <div class="sidebar-title">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</div>
              <div class="space-y-3">
                <button
                  id="download-btn"
                  class="btn btn-primary w-full"
                  disabled
                >
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                    <polyline points="7 10 12 15 17 10" />
                    <line x1="12" y1="15" x2="12" y2="3" />
                  </svg>
                  <span>‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</span>
                </button>
                <button id="copy-btn" class="btn btn-secondary w-full" disabled>
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path
                      d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
                    />
                  </svg>
                  <span>‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏õ‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ö‡∏≠‡∏£‡πå‡∏î</span>
                </button>
                <button
                  id="batch-download-btn"
                  class="btn btn-secondary w-full hidden"
                  disabled
                >
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M21 8v13H3V8" />
                    <path d="M1 3h22v5H1z" />
                    <path d="M10 12h4" />
                  </svg>
                  <span>‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î ZIP</span>
                </button>
              </div>
            </div>
            <div id="progress-container" class="sidebar-section hidden">
              <div
                class="p-4 rounded-xl"
                style="background: var(--bg-tertiary)"
              >
                <div class="flex items-center justify-between mb-3">
                  <span class="text-sm font-medium">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...</span>
                  <span
                    id="progress-text"
                    class="text-sm font-medium"
                    style="color: var(--accent)"
                    >0%</span
                  >
                </div>
                <div
                  class="w-full h-2 rounded-full overflow-hidden"
                  style="background: var(--border-color)"
                >
                  <div
                    id="progress-bar"
                    class="h-full rounded-full transition-all duration-300"
                    style="width: 0%; background: var(--accent)"
                  ></div>
                </div>
              </div>
            </div>
            <div class="sidebar-section">
              <div class="sidebar-title">‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏î</div>
              <div class="space-y-2 text-sm" style="color: var(--text-muted)">
                <div class="flex justify-between">
                  <span>Undo</span
                  ><kbd
                    class="px-2 py-1 rounded text-xs"
                    style="background: var(--bg-tertiary)"
                    >Ctrl+Z</kbd
                  >
                </div>
                <div class="flex justify-between">
                  <span>Redo</span
                  ><kbd
                    class="px-2 py-1 rounded text-xs"
                    style="background: var(--bg-tertiary)"
                    >Ctrl+Y</kbd
                  >
                </div>
                <div class="flex justify-between">
                  <span>Paste</span
                  ><kbd
                    class="px-2 py-1 rounded text-xs"
                    style="background: var(--bg-tertiary)"
                    >Ctrl+V</kbd
                  >
                </div>
                <div class="flex justify-between">
                  <span>‡∏õ‡∏£‡∏±‡∏ö Crop</span
                  ><kbd
                    class="px-2 py-1 rounded text-xs"
                    style="background: var(--bg-tertiary)"
                    >‚Üë‚Üì‚Üê‚Üí</kbd
                  >
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
    <div id="mobile-overlay" class="mobile-overlay"></div>
    <nav class="mobile-bottom-nav">
      <button class="mobile-nav-btn" id="mobile-tools-btn">
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"
          />
          <circle cx="12" cy="12" r="3" />
        </svg>
        <span>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</span>
      </button>
      <button class="mobile-nav-btn" id="mobile-upload-btn">
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242" />
          <path d="M12 12v9" />
          <path d="m16 16-4-4-4 4" />
        </svg>
        <span>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</span>
      </button>
      <button class="mobile-nav-btn active" id="mobile-edit-btn">
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6" />
          <path d="m12 12 4 10 1.7-4.3L22 16Z" />
        </svg>
        <span>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</span>
      </button>
      <button class="mobile-nav-btn" id="mobile-export-btn">
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
          <polyline points="7 10 12 15 17 10" />
          <line x1="12" y1="15" x2="12" y2="3" />
        </svg>
        <span>‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</span>
      </button>
    </nav>
    <script src="js/modules/core.js"></script>
    <script src="js/modules/cropper.js"></script>
    <script src="js/modules/filters.js"></script>
    <script src="js/modules/history.js"></script>
    <script src="js/modules/watermark.js"></script>
    <script src="js/modules/compressor.js"></script>
    <script src="js/modules/comparison.js"></script>
    <script src="js/modules/keyboard.js"></script>
    <script src="js/modules/batch.js"></script>
    <script src="js/ImageApp.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const left_sidebar = document.getElementById('left-sidebar');
        const right_sidebar = document.getElementById('right-sidebar');
        const overlay = document.getElementById('mobile-overlay');
        const mobile_tools_btn = document.getElementById('mobile-tools-btn');
        const mobile_upload_btn = document.getElementById('mobile-upload-btn');
        const mobile_edit_btn = document.getElementById('mobile-edit-btn');
        const mobile_export_btn = document.getElementById('mobile-export-btn');
        const close_left_btn = document.getElementById('close-left-sidebar');
        const close_right_btn = document.getElementById('close-right-sidebar');
        const mobile_nav_btns = document.querySelectorAll('.mobile-nav-btn');
        const image_input = document.getElementById('image-input');
        const cropper_container = document.getElementById('cropper-container');
        const mobile_placeholder = document.getElementById(
          'mobile-upload-placeholder'
        );

        function CloseSidebars() {
          left_sidebar?.classList.remove('mobile-open');
          right_sidebar?.classList.remove('mobile-open');
          overlay?.classList.remove('active');
        }

        function SetActiveNavBtn(btn) {
          mobile_nav_btns.forEach(b => b.classList.remove('active'));
          btn?.classList.add('active');
        }

        function HideMobilePlaceholder() {
          if (mobile_placeholder) {
            mobile_placeholder.style.display = 'none';
          }
          cropper_container?.classList.add('has-image');
        }

        mobile_tools_btn?.addEventListener('click', function () {
          CloseSidebars();
          left_sidebar?.classList.add('mobile-open');
          overlay?.classList.add('active');
          SetActiveNavBtn(this);
        });

        mobile_upload_btn?.addEventListener('click', function () {
          if (window.innerWidth <= 768) {
            image_input?.click();
            SetActiveNavBtn(mobile_edit_btn);
          } else {
            CloseSidebars();
            left_sidebar?.classList.add('mobile-open');
            overlay?.classList.add('active');
            SetActiveNavBtn(this);
          }
        });

        mobile_edit_btn?.addEventListener('click', function () {
          CloseSidebars();
          SetActiveNavBtn(this);
        });

        mobile_export_btn?.addEventListener('click', function () {
          CloseSidebars();
          right_sidebar?.classList.add('mobile-open');
          overlay?.classList.add('active');
          SetActiveNavBtn(this);
        });

        close_left_btn?.addEventListener('click', function () {
          CloseSidebars();
          mobile_edit_btn?.classList.add('active');
        });

        close_right_btn?.addEventListener('click', function () {
          CloseSidebars();
          mobile_edit_btn?.classList.add('active');
        });

        overlay?.addEventListener('click', function () {
          CloseSidebars();
          mobile_edit_btn?.classList.add('active');
        });

        image_input?.addEventListener('change', function () {
          if (this.files && this.files[0]) {
            HideMobilePlaceholder();
          }
        });

        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (
              mutation.type === 'childList' ||
              mutation.type === 'attributes'
            ) {
              const crop_image = document.getElementById('crop-image');
              if (
                crop_image &&
                crop_image.src &&
                crop_image.src !== window.location.href
              ) {
                HideMobilePlaceholder();
              }
            }
          });
        });

        if (cropper_container) {
          observer.observe(cropper_container, {
            childList: true,
            subtree: true,
            attributes: true,
            attributeFilter: ['src']
          });
        }

        mobile_placeholder?.addEventListener('click', function () {
          image_input?.click();
        });

        function InitializeTooltips() {
          const tooltips = document.querySelectorAll('.tooltip');
          tooltips.forEach(tooltip => {
            tooltip.addEventListener('mouseenter', function () {
              const rect = this.getBoundingClientRect();
              const tooltip_width = 150;
              this.classList.remove(
                'tooltip-left',
                'tooltip-right',
                'tooltip-bottom'
              );
              if (
                rect.left + rect.width / 2 + tooltip_width / 2 >
                window.innerWidth
              ) {
                this.classList.add('tooltip-left');
              } else if (rect.left + rect.width / 2 - tooltip_width / 2 < 0) {
                this.classList.add('tooltip-right');
              }
              if (rect.top < 50) {
                this.classList.add('tooltip-bottom');
              }
            });
          });
        }

        InitializeTooltips();
      });
    </script>
  </body>
</html>
